
<%= form_for(@sales_lead, :url => { :controller => controller_name, :action => 'create'}, :html => { :id => "new_sales_lead"}) do |f| %>
  <% if @sales_lead.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@sales_lead.errors.count, "error") %> prohibited this forum from being saved:</h2>

      <ul>
      <% @sales_lead.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :Customer_Account_Name %><br>
    <%= f.collection_select :customer_account_id, CustomerAccount.all, :id, :name %>
  </div>  
  
  <div class="field">
    <%= f.label :first_name %><br> 
    <%= f.text_field :first_name %>
  </div>

  <div class="field">
    <%= f.label :last_name %><br> 
    <%= f.text_field :last_name %>
  </div>
  
  <div class="field">
    <%= f.label :title %><br> 
    <%= f.text_field :title %>
  </div> 
  <div class="field">
    <%= f.label :company %><br> 
    <%= f.text_field :company %>
  </div>   
  <div class="field">
    <%= f.label :phone_number1 %><br> 
    <%= f.text_field :phone_number1 %>
  </div>
  <div class="field">
    <%= f.label :phone_number2 %><br> 
    <%= f.text_field :phone_number2 %>
  </div> 
  <div class="field">
    <%= f.label :phone_number3 %><br> 
    <%= f.text_field :phone_number3 %>
  </div> 
    <div class="field">
    <%= f.label :fax_number %><br> 
    <%= f.text_field :fax_number %>
  </div>  
  <div class="field">
    <%= f.label :email_addr %><br> 
    <%= f.text_field :email_addr %>
  </div>   
  <div class="field">
    <%= f.label :address_line1 %><br> 
    <%= f.text_field :address_line1 %>
  </div>   
  <div class="field">
    <%= f.label :address_line2 %><br> 
    <%= f.text_field :address_line2 %>
  </div>   
  <div class="field">
    <%= f.label :city %><br> 
    <%= f.text_field :city %>
  </div>      
  <div class="field">
    <%= f.label :state %><br>
    <%= f.text_field :state %>
  </div> 
  <div class="field">
    <%= f.label :country %><br>
    <%= f.text_field :country %>
  </div>  
  <div class="field">
    <%= f.label :zipcode %><br>
    <%= f.text_field :zipcode %>
  </div>
  <div class="field">
    <%= f.label :twitter %><br>
    <%= f.text_field :twitter %>
  </div>  
  <div class="field">
    <%= f.label :linkedin %><br>
    <%= f.text_field :linkedin %>
  </div> 
  <div class="field">
    <%= f.label :facebook %><br>
    <%= f.text_field :facebook %>
  </div> 
    <div class="field">
    <%= f.label :skype %><br>
    <%= f.text_field :skype %>
  </div> 
    
  <div class="field">
    <%= f.label :source %><br>
    <%= f.text_field :source %>
  </div>  

  <div class="field">
    <%= f.label :description %><br>
    <%= f.text_field :description %>
  </div>
  <div class="field">
    <%= f.label :type %><br>
    <%= f.text_field :type %>
  </div>           
  <div class="field">
    <%= f.label :status %><br>
    <%= f.select :status, SERVICECASE_STATUSES, :include_blank => false %>
  </div>  

      
  <div class="actions">    
    <%= f.button :submit %>
  </div>  
  
<% end %>
<script type="text/javascript">
  $(document).ready(function() {
    //alert("hi  a" );

    $('#new_sales_lead').validate({
      rules: {
        'sales_lead[first_name]': {
          required: true
        },
        'sales_lead[last_name]': {
          required: true
        },
        'sales_lead[email_addr]': {
          required: true,
          email: true
        },
      },
    highlight: function(element) {
        $(element).closest('.form-group').addClass('has-error');
    },
    unhighlight: function(element) {
        $(element).closest('.form-group').removeClass('has-error');
    },
    errorElement: 'span',
    errorClass: 'help-block',
    errorPlacement: function(error, element) {
        if(element.parent('.input-group').length) {
            error.insertAfter(element.parent());
        } else {
            error.insertAfter(element);
        }
    }
    });
  });
</script>
